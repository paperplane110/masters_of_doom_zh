import w from"./DRh1MnO0.js";import C from"./CIrW5IG_.js";import S from"./BvgsQOqA.js";import{d,u as B,D as k,P as f,s as b,E as x,a as E,G as p,H as O,I as H,J as T,K as A,L as l,M as m,N as D,O as M,S as U,Q as R,R as W,U as F,V as I,p as V,W as q,c as y,e as G,i as L,w as P,X as g}from"./DwtR8Q3i.js";import{u as J}from"./Bge2pRhz.js";import"./BHT38lLy.js";import"./B8IaAclc.js";const N=W,K=d({name:"LayoutLoader",inheritAttrs:!1,props:{name:String,layoutProps:Object},setup(t,n){return()=>m(p[t.name],t.layoutProps,n.slots)}}),Q={name:{type:[String,Boolean,Object],default:null},fallback:{type:[String,Object],default:null}},X=d({name:"NuxtLayout",inheritAttrs:!1,props:Q,setup(t,n){const e=B(),u=k(f),o=!u||u===b()?x():u,a=T(()=>{let s=l(t.name)??o?.meta.layout??N(o?.path).appLayout??"default";return s&&!(s in p)&&t.fallback&&(s=l(t.fallback)),s}),i=A();n.expose({layoutRef:i});const r=e.deferHydration();if(e.isHydrating){const s=e.hooks.hookOnce("app:error",r);E().beforeEach(s)}let c;return()=>{const s=a.value&&a.value in p,v=o?.meta.layoutTransition??O,j=c;return c=a.value,H(s&&v,{default:()=>m(U,{suspensible:!0,onResolve:()=>{M(r)}},{default:()=>m($,{layoutProps:D(n.attrs,o.meta.layoutProps??{},{ref:i}),key:a.value||void 0,name:a.value,shouldProvide:!t.name,isRenderingNewLayout:h=>h!==j&&h===a.value,hasTransition:!!v},n.slots)})}).default()}}}),$=d({name:"NuxtLayoutProvider",inheritAttrs:!1,props:{name:{type:[String,Boolean]},layoutProps:{type:Object},hasTransition:{type:Boolean},shouldProvide:{type:Boolean},isRenderingNewLayout:{type:Function,required:!0}},setup(t,n){const e=t.name;t.shouldProvide&&R(F,{isCurrent:o=>e===!1||e===(o.meta.layout??N(o.path).appLayout??"default")});const u=k(f);if(u&&u===b()){const o=x(),a={};for(const i in o){const r=i;Object.defineProperty(a,r,{enumerable:!0,get:()=>t.isRenderingNewLayout(t.name)?o[r]:u[r]})}R(f,I(a))}return()=>!e||typeof e=="string"&&!(e in p)?n.slots.default?.():m(K,{key:e,layoutProps:t.layoutProps,name:e},n.slots)}}),z={class:"document-driven-page"},se=d({__name:"document-driven",setup(t){const{contentHead:n}=V().public.content,{page:e,layout:u}=q();return e.value,n&&J(e),(_,o)=>{const a=w,i=C,r=S,c=X;return y(),G("div",z,[L(c,{name:l(u)||"default"},{default:P(()=>[l(e)?(y(),g(i,{key:l(e)._id,value:l(e)},{empty:P(({value:s})=>[L(a,{value:s},null,8,["value"])]),_:1},8,["value"])):(y(),g(r,{key:1}))]),_:1},8,["name"])])}}});export{se as default};
